<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <!-- jQuery -->
    <script src='http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js'></script>

    <!-- Wilddog -->
    <!--<script src='https://cdn.wilddog.com/js/client/current/wilddog.js'></script>-->
    <script type="text/javascript" src="https://cdn.wilddog.com/sdk/js/2.0.0/wilddog-sync.js"></script>
    <script type="text/javascript" src="https://cdn.wilddog.com/sdk/js/2.0.0/wilddog-auth.js"></script>

    <!-- Wildchat -->
    <link rel='stylesheet' href='https://cdn.wilddog.com/app/wildchat/0.5.0/wildchat.min.css' />
    <script src='https://cdn.wilddog.com/app/wildchat/0.5.0/wildchat.min.js'></script>

    <!-- Custom CSS -->
    <style>
      #wildchat-wrapper {
        height: 475px;
        max-width: 325px;
        padding: 10px;
        border: 1px solid #ccc;
        background-color: #fff;
        margin: 50px auto;
        text-align: center;
        -webkit-border-radius: 4px;
        -moz-border-radius: 4px;
        border-radius: 4px;
        -webkit-box-shadow: 0 5px 25px #666;
        -moz-box-shadow: 0 5px 25px #666;
        box-shadow: 0 5px 25px #666;
      }
    </style>
  </head>

  <body>
    <div id="wildchat-wrapper"></div>
    <script type="text/javascript">
      var config = {
        authDomain:"wildchat.wilddog.com",
        syncURL: "https://wildchat.wilddogio.com"
      };
      wilddog.initializeApp(config);

      var chatRef = wilddog.sync().ref();
      var chat = new WildchatUI(chatRef, document.getElementById("wildchat-wrapper"));
      wilddog.auth().onAuthStateChanged(function(user) {
        if (user) {
          chat.setUser(user.uid, "Anonymous" + user.uid.substr(10, 8));
        } else {
          wilddog.auth().signInAnonymously().then(function(res){
            console.log(res);
          }).catch(function (error) {
            console.log(error);
          });
        }
      });
    </script>
  </body>
</html>
